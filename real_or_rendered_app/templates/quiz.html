<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Quiz Question {{ question.id }}</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      /* ---------- GLOBAL (body, fonts, background) ---------- */
      body {
        background-color: #fffaf3; /* Cream */
        margin: 0;
        font-family: Arial, sans-serif;
      }
      a {
        text-decoration: none;
      }

      /* ---------- NAVBAR ---------- */
      .navbar-custom {
        background-color: #8f8377;
      }
      .navbar-custom .navbar-brand,
      .navbar-custom .nav-link {
        color: #fff !important;
        font-weight: 500;
      }
      .navbar-custom .nav-link:hover {
        color: #ffffffcc !important;
      }
      .navbar-custom .nav-link.active {
        color: #ffa94d !important; /* highlight Quiz link */
      }
      .logo {
        width: 45px;
        height: 45px;
        margin-right: 8px;
        border-radius: 50%;
        background: url("{{ url_for('static', filename='images/icon.png') }}")
          no-repeat center center / cover;
      }

      /* ---------- PAGE WRAPPER ---------- */
      .page-wrapper {
        max-width: 1200px;
        margin: 0 auto;
        padding: 1.5rem 2rem;
      }

      /* ---------- QUIZ PROMPT ---------- */
      .quiz-prompt {
        text-align: center;
        margin-bottom: 2rem;
      }
      .quiz-prompt h1 {
        font-size: 1.9rem;
        font-weight: 700;
        color: #3e3e3e;
        margin-bottom: 0.3rem;
      }
      .quiz-prompt .question-count {
        font-size: 1rem;
        color: #777;
      }

      /* ---------- TWO CHOICES ROW ---------- */
      .choices-row {
        display: flex;
        justify-content: center;
        gap: 2rem;
        flex-wrap: wrap;
      }
      .choice-container {
        position: relative;
        width: 300px;
        border-radius: 40px;
        background-color: #fff;
        overflow: hidden; /* corners match the container rounding */
        text-align: center;
      }
      .choice-left {
        border: 10px solid #ffa94d; /* orange border */
      }
      .choice-right {
        border: 10px solid #c7c7c7; /* gray border */
      }
      .choice-image {
        width: 100%;
        height: 380px; /* ensure same size for both images */
        object-fit: cover; 
      }
      /* “Zoom in” + radio button area at bottom center */
      .choice-radio {
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .choice-radio input[type="radio"] {
        accent-color: #777;
        width: 20px;
        height: 20px;
        cursor: pointer;
      }
      .zoom-text {
        font-size: 0.85rem;
        color: #777;
        cursor: pointer; /* show pointer on hover */
      }

      /* ---------- SUBMIT BUTTON ---------- */
      .submit-row {
        text-align: center;
        margin-top: 2rem;
      }
      .btn-submit {
        background-color: #f8b8bd;
        border: 2px solid #f2a6ac;
        border-radius: 8px;
        padding: 0.6rem 1.2rem;
        color: #333;
        font-weight: 600;
        cursor: pointer;
      }
      .btn-submit:hover {
        background-color: #f3969e;
        color: #fff;
      }

      /* ---------- ZOOM MODAL ---------- */
      .modal-content {
        border-radius: 8px;
      }
    </style>
  </head>
  <body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-custom navbar-expand-lg">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="{{ url_for('home') }}">
          <div class="logo"></div>
          <span>Real or Rendered?</span>
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
          <ul class="navbar-nav mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('home') }}">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('transition') }}">Overview</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('learn', lesson_id=1) }}">Anatomy</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('learn', lesson_id=2) }}">Lighting</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('learn', lesson_id=3) }}">Texture</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('learn', lesson_id=4) }}">Symmetry</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('learn', lesson_id=6) }}">Symbolism</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('learn', lesson_id=5) }}">Detail</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="{{ url_for('quiz', question_id=1) }}">Quiz</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- MAIN WRAPPER -->
    <div class="page-wrapper">
      <!-- Prompt -->
      <div class="quiz-prompt">
        <h1>{{ question.question }}</h1>
        <div class="question-count">
          Question {{ question.id }} out of {{ total_questions }}
        </div>
      </div>

      <form method="POST">
        <div class="choices-row">
          <!-- Left (Option A) -->
          <label class="choice-container choice-left">
            <img
              src="{{ url_for('static', filename='images/' + question.optionA) }}"
              alt="Option A"
              class="choice-image"
            />
            <div class="choice-radio">
              <input type="radio" name="choice" value="A" required />
              <span class="zoom-text" data-img="{{ url_for('static', filename='images/' + question.optionA) }}">Zoom in</span>
            </div>
          </label>

          <!-- Right (Option B) -->
          <label class="choice-container choice-right">
            <img
              src="{{ url_for('static', filename='images/' + question.optionB) }}"
              alt="Option B"
              class="choice-image"
            />
            <div class="choice-radio">
              <input type="radio" name="choice" value="B" required />
              <span class="zoom-text" data-img="{{ url_for('static', filename='images/' + question.optionB) }}">Zoom in</span>
            </div>
          </label>
        </div>

        <!-- Submit Button -->
        <div class="submit-row">
          <button class="btn-submit" type="submit">Submit</button>
        </div>
      </form>
    </div>

    <!-- ZOOM MODAL -->
    <div class="modal fade" id="zoomModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content p-3">
          <div class="modal-header">
            <h5 class="modal-title">Zoom View</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body text-center">
            <img id="zoomModalImg" class="img-fluid" alt="Zoomed Artwork" />
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    ></script>
    <script>
      // Handle "Zoom in" clicks -> show modal with larger image
      document.querySelectorAll('.zoom-text').forEach((z) => {
        z.addEventListener('click', (e) => {
          e.preventDefault();
          const imgSrc = z.getAttribute('data-img');
          document.getElementById('zoomModalImg').src = imgSrc;
          new bootstrap.Modal(document.getElementById('zoomModal')).show();
        });
      });
    </script>
  </body>
</html>
