<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Quiz Results</title>
    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <!-- Load Lora with regular (400) and bold (700) weights -->
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    {% include "nav-bar.html" %}
    <!-- PAGE WRAPPER -->
    <div class="page-wrapper">
      <!-- Score Header -->
      <h2 class="score-header">
        🎉 Your Score:
        <span>{{ score }} / {{ feedback|length }}</span>
      </h2>

      <!-- List of questions with correct/incorrect info -->
      <div class="list-group quiz-feedback">
        {% for item in feedback %}
        <div
          class="list-group-item d-flex flex-column flex-sm-row justify-content-between align-items-start"
        >
          <div>
            <strong>Q{{ item.id }}</strong>: You answered
            <code>{{ item.selected }}</code>
            {% if item.selected == item.correct %}
            <span class="correct-text">✅ Correct!</span>
            {% else %}
            <span class="incorrect-text">❌ Incorrect.</span>
            Correct answer: <code>{{ item.correct }}</code>.
            <br />
            <a
              class="lesson-link"
              href="{{ url_for('learn', lesson_id=loop.index) }}"
            >
              Review: {{ item.related }}
            </a>
            {% endif %}
          </div>
        </div>
        {% endfor %}
      </div>

      <!-- Back to home button -->
      <div class="mt-4">
        <a href="{{ url_for('home') }}" class="btn-home">🏠 Back to Home</a>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
